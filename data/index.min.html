<!DOCTYPE html><html lang="lt"><head><meta charset="UTF-8"><title>Katilo temperatūra --.-°C</title><style>body{background:#111;color:#eee;font-family:sans-serif}@media (prefers-color-scheme: light){body{background:#eee;color:#111}}.container{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;line-height:0}.title{position:relative;bottom:-0.8em;text-align:left;font-size:4vmin}h1{font-size:24vmin}</style> <script>const pollMS=15000;var lastUpdate=0;const update=()=>{lastUpdate=Date.now();fetch("temp").then(res=>res.json()).then(data=>{let temp=data.tempC.toFixed(1);document.title=`Katilo temperatūra ${temp}°C`;document.getElementById("temp").innerText=temp;}).catch(reason=>console.log(reason));};window.addEventListener("focus",(event)=>{if(Date.now()-lastUpdate<pollMS){return;}update();});window.addEventListener("load",(event)=>{update();setInterval(update,pollMS);});</script> </head><body><div class="container"><h2 class="title">Katilo temperatūra</h2><h1><span id="temp">--.-</span>&deg;C</h1></div></body></html>
